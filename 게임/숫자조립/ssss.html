<!DOCTYPE html>
<HTML>
<HEAD>
<META charset = "UTF-8">
<META NAME="Author" CONTENT="Greg Szorc">
<TITLE>Magic Squares</TITLE>
 
<SCRIPT LANGUAGE="JavaScript">
 
<!-- Begin -->
function initArray() {
this.length = initArray.arguments.length
for (var i = 0; i < this.length; i++)
this[i+1] = initArray.arguments[i]
}
var pos = new initArray(9,9,9,9,9,9,9,9,9);
var nummoves= 0;
 
function random() {
today = new Date();
num = today.getTime();
num = Math.round(Math.abs(Math.sin (num)*1000000)) % 9;
return num;
}
 
function display(pos) {
for (var i=0; i<9; i++) {
document.forms[0].elements[i].value = pos[i];
}
document.forms[0].moves.value= nummoves;
win();
} 
 
function move(num) {
if (num < 8 && pos[num+1]==0) {
pos[num+1]= pos[num];
pos[num]= 0;
nummoves++;
}
else if (num > 0 && pos[num-1]==0) {
pos[num-1]= pos[num];
pos[num]= 0;
nummoves++;
}
else if (num > 2 && pos[num-3]==0) {
pos[num-3]= pos[num];
pos[num]= 0;
nummoves++;
}
 
else if (num < 6 && pos[num+3]==0 ) {
pos[num+3]= pos[num];
pos[num]= 0;
nummoves++;
}
display(pos);
} 
 
function win() {
if (pos[0]== 1 & pos[1]== 2 & pos[2]== 3 & pos[3]== 4 & pos[4]== 5 & pos[5]== 6 & pos[6]== 7 & pos[7]== 8 & pos[8]== 0) {
if (confirm('한판 더 할래요?')) newgame();
}
}
 
function newgame() {
var x=1;
for (var i=0; i<9; i++) {
pos[i]=9;
}
 
for (var i=0; i<9;i++) {
randomnum=random();
if (randomnum==9) randomnum=8;
x=1;
 
for (var j=0; j<9; j++) {
if (j==i)
continue;
if (randomnum==pos[j]) {
x=0;
break;
}
}
 
if (x==0) {
i--;
continue;
}
 
pos[i]=randomnum;
}
 
nummoves=0;
display(pos);
}
 
 
</SCRIPT>
</HEAD>
 
<BODY onLoad="window.newgame()" bgcolor="#000000" text="#00FF00">
<BR><BR>
<CENTER>
<h1 align=center>Magic Squares</h1><p>
 
<FORM>
<table border=0 celpadding=0 cellspacing=10 width="556">
<tr>
<td width="162">
<p align="center">
<input type="button" value=" 1 " onClick="window.move(0)">
<input type="button" value=" 2 " onClick="window.move(1)">
<input type="button" value=" 3 " onClick="window.move(2)"><br>
<input type="button" value=" 4 " onClick="window.move(3)">
<input type="button" value=" 5 " onClick="window.move(4)">
<input type="button" value=" 6 " onClick="window.move(5)"><br>
<input type="button" value=" 7 " onClick="window.move(6)">
<input type="button" value=" 8 " onClick="window.move(7)">
<input type="button" value=" 0 " onClick="window.move(8)"><p>
</td>
<td valign=top width="356">
<font color="#00FFFF">1~8까지 차례대로 놓으면 됩니다.</font>
<p><font color="#00FFFF">0 은 빈칸으로 생각하면 되구요^^</font></p>
<p><font color="#00FFFF">숫자 옮길땐 0이 중심이 겠죠?</font></p>
<p>　</p>
</td>
</tr> 
<tr>
<td align=center width="162">
<font color="#FFFF00">옮긴 숫자</font><br>
<input name="moves" size=7 value="0"> <p>
</td>
<td align=center width="356"><br>
<input type="submit" value="New Game" onClick="window.newgame()">
</td>
</tr>
</TABLE>
</FORM>
</CENTER>
<BR><P>　</P>
</BODY>
</HTML>